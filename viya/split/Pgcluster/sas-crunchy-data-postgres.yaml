---
apiVersion: crunchydata.com/v1
kind: Pgcluster
metadata:
  annotations:
    current-primary: sas-crunchy-data-postgres
    primary-deployment: sas-crunchy-data-postgres
    sas.com/component-name: sas-crunchy-data-postgres-operator
    sas.com/component-version: 20.3.2-20200824.1598301017591
    sas.com/tls-enabled-ports: all
    sas.com/version: 20.3.2
  generation: 5
  labels:
    autofail: "true"
    crunchy-pgbadger: "true"
    crunchy-pgha-scope: sas-crunchy-data-postgres
    crunchy_collect: "false"
    custom-config: postgresql-custom
    deployment-name: sas-crunchy-data-postgres
    name: sas-crunchy-data-postgres
    pg-cluster: sas-crunchy-data-postgres
    pg-pod-anti-affinity: ""
    pgo-backrest: "true"
    pgo-version: 4.3.2
    pgouser: pgoadmin
    sas.com/admin: namespace
    sas.com/deployment: sas-viya
  name: sas-crunchy-data-postgres
  namespace: viya
spec:
  ArchiveStorage:
    accessmode: ""
    matchLabels: ""
    name: ""
    size: ""
    storageclass: ""
    storagetype: ""
    supplementalgroups: ""
  BackrestStorage:
    accessmode: ReadWriteOnce
    matchLabels: ""
    name: ""
    size: 128Gi
    storageclass: nfs-client
    storagetype: create
    supplementalgroups: ""
  PrimaryStorage:
    accessmode: ReadWriteOnce
    matchLabels: ""
    name: sas-crunchy-data-postgres
    size: 128Gi
    storageclass: nfs-client
    storagetype: create
    supplementalgroups: ""
  ReplicaStorage:
    accessmode: ReadWriteOnce
    matchLabels: ""
    name: ""
    size: 128Gi
    storageclass: nfs-client
    storagetype: create
    supplementalgroups: ""
  WALStorage:
    accessmode: ""
    matchLabels: ""
    name: ""
    size: ""
    storageclass: ""
    storagetype: ""
    supplementalgroups: ""
  backrestLimits:
    cpu: "1"
    memory: 500Mi
  backrestRepoPath: ""
  backrestResources:
    cpu: 0.01
    memory: 256Mi
  backrestS3Bucket: ""
  backrestS3Endpoint: ""
  backrestS3Region: ""
  ccpimage: crunchy-postgres-ha
  ccpimagetag: latest
  clustername: sas-crunchy-data-postgres
  collectSecretName: sas-crunchy-data-postgres-collect-secret
  customconfig: postgresql-custom
  database: userdb
  enableBackrestMemoryLimit: false
  enableMemoryLimit: false
  exporterport: "9187"
  limits:
    cpu: "8"
    memory: 8Gi
  name: sas-crunchy-data-postgres
  pgBouncer:
    enableMemoryLimit: false
    replicas: 0
    resources:
      memory: 24Mi
  pgbadgerport: "10000"
  podAntiAffinity:
    default: ""
    pgBackRest: ""
    pgBouncer: ""
  policies: ""
  port: "5432"
  primaryhost: sas-crunchy-data-postgres
  primarysecretname: sas-crunchy-data-postgres-primaryuser-secret
  replicas: "2"
  resources:
    cpu: 150m
    memory: 2Gi
  rootsecretname: sas-crunchy-data-postgres-postgres-secret
  secretfrom: ""
  shutdown: false
  standby: false
  syncReplication: null
  tablespaceMounts: {}
  tls:
    caSecret: ""
    tlsSecret: ""
  tlsOnly: false
  user: testuser
  userlabels:
    crunchy_collect: "false"
    custom-config: postgresql-custom
    pg-pod-anti-affinity: ""
    pgo-version: 4.3.2
  usersecretname: sas-crunchy-data-postgres-testuser-secret
