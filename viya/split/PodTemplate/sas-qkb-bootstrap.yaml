---
apiVersion: v1
kind: PodTemplate
metadata:
  annotations:
    sas.com/component-name: sas-quality-knowledge-base
    sas.com/component-version: 32.3.3-20201009.1602257426025
    sas.com/version: 32.3.3
  labels:
    sas.com/admin: cluster-local
    sas.com/deployment: sas-viya
    workload.sas.com/class: stateless
  name: sas-qkb-bootstrap
  namespace: viya
template:
  metadata:
    annotations:
      sidecar.istio.io/inject: "false"
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: workload.sas.com/class
              operator: In
              values:
              - stateless
            matchFields: []
          weight: 100
        - preference:
            matchExpressions:
            - key: workload.sas.com/class
              operator: NotIn
              values:
              - cas
              - compute
              - connect
              - stateful
            matchFields: []
          weight: 50
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.azure.com/mode
              operator: NotIn
              values:
              - system
            matchFields: []
    containers:
    - args: []
      command: []
      env: []
      envFrom: []
      image: cr.sas.com/viya-4-x64_oci_linux_2-docker/sas-quality-knowledge-base:32.3.3-20201009.1602257426025
      imagePullPolicy: IfNotPresent
      name: sas-qkb-bootstrap
      ports: []
      volumeDevices: []
      volumeMounts:
      - mountPath: /rdutil
        name: sas-rdutil-dir
      - mountPath: /tgtdata
        name: sas-quality-knowledge-base-volume
    hostAliases: []
    imagePullSecrets:
    - name: sas-image-pull-secrets-bh7kmc9288
    initContainers: []
    readinessGates: []
    restartPolicy: Never
    tolerations:
    - effect: NoSchedule
      key: workload.sas.com/class
      operator: Equal
      value: stateful
    - effect: NoSchedule
      key: workload.sas.com/class
      operator: Equal
      value: stateless
    volumes:
    - name: sas-quality-knowledge-base-volume
      persistentVolumeClaim:
        claimName: sas-quality-knowledge-base
    - configMap:
        defaultMode: 493
        items: []
        name: sas-reference-data-scripts
      name: sas-rdutil-dir
