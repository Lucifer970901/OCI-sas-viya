<html>
    <head>
        <link rel="stylesheet" type="text/css" href="sas.css"/>
        <title>Configuration Settings for PostgreSQL Database Cluster</title>
    </head>
    <body>
        <h1 id="configuration-settings-for-postgresql-database-cluster">Configuration Settings for PostgreSQL Database Cluster</h1>
<h2 id="overview">Overview</h2>
<p>This readme describes the configuration settings available for deploying a
PostgreSQL Database Cluster with defaults provided by SAS. Currently, the
TLS/SSL database parameters values are replaced with tokenized placeholders
that you must replace with proper values. These settings are applicable only 
if you are using an internal version of PostgreSQL.</p>
<h2 id="installation">Installation</h2>
<p><strong>Note:</strong> These instructions only apply to the internal instance of
PostgreSQL server. If you are using an external instance of PostgreSQL, do
not perform any of these steps.</p>
<ol>
<li>
<p>Copy the
   <code>sas-bases/examples/configure-postgres/internal/custom-config/postgres-custom-config.yaml</code>
   file to the site-config directory.</p>
</li>
<li>
<p>The variables that you must replace in the copied file are set off by curly
   braces and spaces, such as {{ SSL-ON-OR-OFF }}. Replace the entire variable
   string, including the braces, with the value you want to use.</p>
</li>
<li>
<p>After replacing the variables, check the bootstrap/dcs/postgresql/parameters
   and bootstrap/postgresql/pg_hba sections in the yaml file to ensure that
   the tokens have been replaced with proper values.</p>
</li>
<li>
<p>After you have edited the file, add a reference to it in the generator
block of the base kustomization.yaml file.</p>
</li>
</ol>
<h2 id="examples">Examples</h2>
<p>The example file includes content for configuring the following settings.</p>
<ul>
<li>Specify the hba configuration as <code>hostssl</code> if TLS/SSL is enabled or as
  <code>host</code> if TLS/SSL is disabled.</li>
<li>Specify whether the password uses md5 or scram-sha-256 encryption.</li>
</ul>
<h2 id="additional-resources">Additional Resources</h2>
<p>For more information about using the example file, see the
<a href="http://documentation.sas.com/?softwareId=mysas&amp;softwareVersion=prod&amp;docsetId=dplyml0phy0dkr&amp;docsetTarget=titlepage.htm">SAS Viya Deployment Guide</a>.</p>
<p>For more information about pgo.yaml configuration, go
<a href="https://access.crunchydata.com/documentation/postgres-operator/4.2.2/configuration/pgo-yaml-configuration/">here</a>.</p>
<p>For more information about postgresql.conf, go
<a href="https://www.postgresql.org/docs/12/config-setting.html">here</a>.</p>
<p>For more informaiton about pg_hba.conf configuration, go
<a href="https://www.postgresql.org/docs/12/auth-pg-hba-conf.html">here</a>.</p>
    </body>
</html>