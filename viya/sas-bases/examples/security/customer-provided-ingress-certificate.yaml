## Example SecretGenerator to generate the secret to be used by nginx ingress objects
##
## In the following code, the locations that require user specified values are indicated by a capitalized and
## hyphenated name set off by curly braces and a space at each end. You should replace this token with the
## actual value.
## Replace the curly braces, interior spaces, and the variable name.
## For instance, "{{ CERTIFICATE_FILE_NAME Example: site-config/security/sas-nginx-ingress.crt }}"
## should be replaced by the path to a .pem file containing your certificate.
## The name of the token is intended to provide a suitable example.  If you following the suggested example
## the correct, final syntax would be:
## - tls.crt=site-config/security/sas-nginx-ingress.crt
## - tls.key=site-config/security/sas-nginx-ingress.key
##
##  Special Note:  the name of the kubernetes secret which will contain the certificate and key can be
##  renamed.  However, the name provided below "sas-ingress-certificate" is referenced in other kustomization
##  files.  If you change the name below, you will need to change all the other references: All the ingress objects' spec.tls.secretName
##  and the sas-certframe-ingress-certificate-config config map's SAS_INGRESS_CERTIFICATE_SECRET_NAME environment variable.
##  Use the sas-bases/overlays/network/ingress/security/transformers/ingress-tls-transformers.yaml as guidance.
---
apiVersion: builtin
kind: SecretGenerator
metadata:
  name: sas-ingress-certificate
#if you are using nginx ingress, this file defines the certificate and key that will be used in establishing TLS connections to the SAS Services
#the files below must exist in the same directory as kustomization.yaml and must be there when you run kustomize build
#the key will be copied into the secret generator
#the files can be deleted subsequent to running kustomize
files:
  - tls.crt={{ CERTIFICATE_FILE_NAME }}
  - tls.key={{ CERTIFICATE_FILE_NAME }}
type: "kubernetes.io/tls"