## Example Issuer and Secret used to create the CA Certificate and Key used by SAS to generate TLS certificates for network encryption
##
## This example can be deployed as-is without modification
##
---
# sas-viya-selfsigning-issuer.yaml
# ................................
apiVersion: cert-manager.io/v1alpha2
kind: Issuer
metadata:
  name: sas-viya-selfsigning-issuer
spec:
  selfSigned: {}

---
# sas-viya-ca-certificate.yaml
# ............................
apiVersion: cert-manager.io/v1alpha2
kind: Certificate
metadata:
  name: sas-viya-ca-certificate
spec:
  secretName: sas-viya-ca-certificate-secret
  commonName: "sas-viya-root-ca-certificate"
  isCA: true
  issuerRef:
    name: sas-viya-selfsigning-issuer
    kind: Issuer

---
# sas-viya-issuer.yaml
# ....................
apiVersion: cert-manager.io/v1alpha2
kind: Issuer
metadata:
  name: sas-viya-issuer
spec:
  ca:
    secretName: sas-viya-ca-certificate-secret