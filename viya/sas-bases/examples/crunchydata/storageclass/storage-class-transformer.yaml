# Example storage-class-transformer when default storage class is not set on
# your k8s cluster. Refer to 
# $deploy/sas-bases/overlays/internal-postgres/crunchydata/README.md for more
# information.
---
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: patch-transformer-storage-class-1
patch: |-
  - op: replace
    path: /spec/ArchiveStorage/storageclass
    value: trident
  - op: replace
    path: /spec/ArchiveStorage/storagetype
    value: dynamic
  - op: replace
    path: /spec/BackrestStorage/storageclass
    value: trident
  - op: replace
    path: /spec/BackrestStorage/storagetype
    value: dynamic
  - op: replace
    path: /spec/PrimaryStorage/storageclass
    value: trident
  - op: replace
    path: /spec/PrimaryStorage/storagetype
    value: dynamic
  - op: replace
    path: /spec/ReplicaStorage/storageclass
    value: trident
  - op: replace
    path: /spec/ReplicaStorage/storagetype
    value: dynamic
target:
  group: crunchydata.com
  kind: Pgcluster
  name: .*
  version: v1
---