# To specify an external PostgreSQL instance for your SAS deployment, add the
# following into your kustomization.yaml file. Ensure you adjust the values here
# as described in $deploy/sas-bases/overlays/external-postgres/README.md.

transformers:
- sas-bases/overlays/external-postgres/external-postgres-transformer.yaml

secretGenerator:
- name: postgres-sas-user  # THIS IS FOR INTERNAL USE ONLY - DO NOT EDIT
  literals:
  - username={{ EXTERNAL-ADMIN-USERNAME }}
  - password={{ EXTERNAL-ADMIN-PASSWORD }}

configMapGenerator:
- name: sas-postgres-config  # THIS IS FOR INTERNAL USE ONLY - DO NOT EDIT
  behavior: merge
  literals:
  - DATABASE_HOST={{ EXTERNAL-HOST }}
  - DATABASE_PORT={{ EXTERNAL-PORT }}
  - DATABASE_SSL_ENABLED="true"
  - DATABASE_NAME=SharedServices
  - EXTERNAL_DATABASE="true"  # THIS IS FOR INTERNAL USE ONLY - DO NOT EDIT
  - SAS_DATABASE_DATABASESERVERNAME="postgres"