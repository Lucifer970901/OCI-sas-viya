apiVersion: orchestration.sas.com/v1alpha1
kind: SASDeployment
metadata:
  name: sample-secrets-sasdeployment
spec:
  cadenceName: "a_cadence_name"
  cadenceVersion: "a_cadence_version"
  cadenceRelease: ""
  # The following is an example of using secrets to specify a
  # license, a client certificate, and a CA certiciate.
  userContent:
    files:
      "kustomization.yaml": |-
        resources:
          - sas-bases/base
        transformers:
          - sas-bases/overlays/required/transformers.yaml
  license:
    secretKeyRef:
      name: deployment-secrets
      key: license
  clientCertificate:
    secretKeyRef:
      name: deployment-secrets
      key: certificate
  caCertificate:
    secretKeyRef:
      name: deployment-secrets
      key: cacertificate
---
apiVersion: v1
kind: Secret
metadata:
  name: deployment-secrets
type: Opaque
stringData:
  license: LICENSE
  certificate: |-
    -----BEGIN RSA PRIVATE KEY-----
    CLIENT KEY
    -----END RSA PRIVATE KEY-----
    -----BEGIN CERTIFICATE-----
    CLIENT CERT
    -----END CERTIFICATE-----
  cacertificate: |-
    -----BEGIN CERTIFICATE-----
    CA CERT
    -----END CERTIFICATE-----
